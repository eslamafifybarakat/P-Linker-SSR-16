<div id="reset-password" class="py-4 auth-form">
  <div class="d-flex justify-content-between align-items-center gap-2 mb-5">
    <a (click)="back()">
      <i class="fas fa-arrow-left scaleX-rtl"></i>
    </a>
    <language-selector></language-selector>
  </div>
  <div class="d-lg-none d-flex justify-content-center">
    <img src="assets/images/auth/auth-logo-dark.svg" class="form-logo mb-3" alt="logo" [routerLink]="['']">
  </div>
  <h2 class="fs-1 text-center">
    {{'auth.resetPassword'|translate}}
  </h2>
  <form [formGroup]="resetPasswordForm" (ngSubmit)="submit()" class="py-sm-5 py-4">
    <div class="mb-4">
      <label for="password" class="required">
        {{'labels.newPassword'|translate}}
      </label>
      <div class="rounded-input p-mask"
        [class.border-red]="formControls?.password?.invalid && (formControls?.password?.dirty || formControls?.password?.touched)">
        <p-password [toggleMask]="true" formControlName="password"
          placeholder="{{'placeholders.newPassword'|translate}}" autocomplete="cc-name" [feedback]="true">
          <ng-template pTemplate="header">
            <h6>
              {{'validations.pickPassword'|translate}}
            </h6>
          </ng-template>
          <ng-template pTemplate="footer">
            <p-divider></p-divider>
            <ul class="pl-2 mt-0" style="line-height: 1.5">
              <li>
                {{'validations.oneLowerCase'|translate}}
              </li>
              <li>
                {{'validations.oneUppercase'|translate}}
              </li>
              <li>
                {{'validations.oneNumeric'|translate}}
              </li>
              <li>
                {{'validations.eightChars'|translate}}
              </li>
              <li>
                {{'validations.specialChar'|translate}}
              </li>
            </ul>
          </ng-template>
        </p-password>
      </div>
      <div class="mt-2">
        <ng-container
          *ngIf="formControls?.password?.invalid && (formControls?.password?.dirty || formControls?.password?.touched)">
          <ng-container *ngIf="formControls?.password?.errors?.['required']">
            <div class="text-danger fs-8">
              {{'validations.password'|translate}}
            </div>
          </ng-container>
          <ng-container *ngIf="formControls?.password?.errors?.['pattern']">
            <div class="text-danger fs-8 lh-base">
              {{'validations.passwordPattern'|translate}}
            </div>
          </ng-container>
        </ng-container>
      </div>
      <div>
        <p class="mt-2 fs-8 lh-base text-desc-color mb-0">
          {{'validations.passwordPattern'|translate}}
        </p>
      </div>
    </div>
    <div class="mb-3">
      <label for="confirmPassword" class="required">
        {{'labels.confirmPassword'|translate}}
      </label>
      <div class="rounded-input p-mask" [class.border-invalid-password]="isPasswordChange"
        [class.border-red]="formControls?.confirmPassword?.invalid && (formControls?.confirmPassword?.dirty || formControls?.confirmPassword?.touched)">
        <p-password id="confirmPassword" [toggleMask]="true" formControlName="confirmPassword"
          [disabled]="resetPasswordForm?.value?.password ==''" (onFocus)="onFocusConfirmPassword()"
          placeholder="{{'placeholders.confirmPassword'|translate}}" autocomplete="cc-name" [feedback]="true">
          <ng-template pTemplate="header">
            <h6>
              {{'validations.pickPassword'|translate}}
            </h6>
          </ng-template>
          <ng-template pTemplate="footer">
            <p-divider></p-divider>
            <ul class="pl-2 mt-0" style="line-height: 1.5">
              <li>
                {{'validations.oneLowerCase'|translate}}
              </li>
              <li>
                {{'validations.oneUppercase'|translate}}
              </li>
              <li>
                {{'validations.oneNumeric'|translate}}
              </li>
              <li>
                {{'validations.eightChars'|translate}}
              </li>
              <li>
                {{'validations.specialChar'|translate}}
              </li>
            </ul>
          </ng-template>
        </p-password>
      </div>
      <div class="mt-2">
        <ng-container
          *ngIf="formControls?.confirmPassword?.invalid && (formControls?.confirmPassword?.dirty || formControls?.confirmPassword?.touched)">
          <ng-container *ngIf="formControls?.confirmPassword?.errors?.['required']">
            <div class="text-danger fs-8 lh-base">
              {{'validations.confirmPassword'|translate}}
            </div>
          </ng-container>
          <ng-container *ngIf="formControls?.confirmPassword?.errors?.['pattern']">
            <div class="text-danger fs-8 lh-base">
              {{'validations.passwordPattern'|translate}}
            </div>
          </ng-container>
          <ng-container *ngIf="formControls?.confirmPassword?.errors?.ConfirmPassword&&!isPasswordChange">
            <span class="text-danger fs-8">
              {{'validations.notMatch'|translate}}
            </span>
          </ng-container>
        </ng-container>

      </div>
    </div>
    <button type="submit" class="btn w-100 btn-solid-main form-btn mt-4" [disabled]="isLoadingBtn">
      <span>
        {{'auth.confirmPassword'|translate}}
      </span>
      <ng-container *ngIf="isLoadingBtn">
        <i class="pi pi-spin pi-spinner" style="font-size: 1rem"></i>
      </ng-container>
    </button>
  </form>
  <div class="text-center mt-5">
    <p>
      <span>
        {{'auth.notMember'|translate}}
      </span><a class="text-main-color ps-1" [routerLink]="['/auth/supplier-registration']">
        {{'auth.register'|translate}}
      </a>
    </p>
  </div>
</div>