<div class="uploader row w-100 d-flex justify-content-center align-items-center m-auto"
  [class.justify-content-between]="showFile">
  <!-- Show Img -->
  <ng-container *ngIf="showFile && !isLoading">
    <div class="col-sm-6 p-0">
      <div class="d-flex align-items-center gap-3 p-2">
        <ng-container *ngIf="name?.includes('xlsx')||name?.includes('csv')">
          <img class="fit-object-cover" src="assets/image/icons/xls.svg" />
        </ng-container>
        <ng-container *ngIf="type?.includes('pdf')">
          <img class="fit-object-cover" src="assets/image/icons/pdf.svg" />
        </ng-container>
        <ng-container *ngIf="name?.includes('doc')">
          <img class="fit-object-cover" src="assets/image/icons/doc.svg" />
        </ng-container>
        <ng-container *ngIf="type?.includes('image')">
          <p-image class="shadow" [src]="imageSrc" [previewImageSrc]="imageSrc" alt="Image" width="70"
            [preview]="showPreview" (onImageError)="onImageError(imageSrc)"></p-image>
        </ng-container>
        <div class="text-truncate">
          <p class="fw-500 mb-1">{{name}}</p>
          <p class="mb-0 text-desc-color">{{imageSize}}</p>
        </div>
      </div>
    </div>
    <div class="col-sm-6">
      <div class="d-flex flex-wrap gap-2 justify-content-end py-3">
        <label class="d-flex align-items-center justify-content-center gap-2 pointer badge-info badge-btn mb-0"
          [class.loaded]="loaded">
          <input #inputFile type="file" name="file" [accept]="accept" (change)="handleInputChange($event)" hidden />
          <span>
            <svg width="21" height="19" viewBox="0 0 24 22" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M2.76258 9.45328C2.87708 9.50044 3.00988 9.50044 3.12439 9.44386L6.70111 7.77016C6.93007 7.65701 7.02625 7.37413 6.91633 7.13841C6.81101 6.91212 6.54997 6.80838 6.32556 6.91212L3.82048 8.08605C5.01576 4.40393 8.34518 1.94291 12.1783 1.94291C16.1947 1.94291 19.7072 4.70568 20.7194 8.66122C20.7835 8.91108 21.0353 9.06197 21.278 8.99595C21.5208 8.92996 21.6674 8.67063 21.6032 8.42077C20.4857 4.05506 16.6114 1 12.1783 1C7.9513 1 4.27382 3.71562 2.94574 7.77962L1.89244 5.06874C1.8146 4.82356 1.55356 4.68685 1.3154 4.76698C1.07724 4.84712 0.944449 5.11585 1.02229 5.36103C1.02688 5.3799 1.03603 5.39873 1.04517 5.4176L2.5061 9.18927C2.5519 9.30715 2.64348 9.40616 2.76258 9.45328Z"
                fill="#359A9C" stroke="#359A9C" />
              <path
                d="M22.9736 16.411C22.969 16.4015 22.9644 16.3922 22.9644 16.3827L21.5035 12.611C21.4576 12.4931 21.366 12.3942 21.247 12.3471C21.1325 12.2999 20.9997 12.3046 20.8852 12.3565L17.3085 14.0301C17.0749 14.1292 16.965 14.4074 17.0612 14.6478C17.1573 14.8883 17.4275 15.0013 17.6611 14.9024C17.6702 14.8976 17.6794 14.8929 17.6885 14.8883L20.1937 13.7142C18.9892 17.3964 15.6552 19.8574 11.8266 19.8574C7.81029 19.8574 4.29772 17.0947 3.28563 13.1391C3.22153 12.8892 2.96964 12.7383 2.72693 12.8044C2.48423 12.8704 2.33765 13.1297 2.40179 13.3796C3.51464 17.7499 7.39361 20.8004 11.8266 20.8004C16.0537 20.8004 19.7266 18.0847 21.0593 14.0206L22.1126 16.7316C22.1996 16.9768 22.4606 17.104 22.6988 17.0145C22.9368 16.9249 23.0605 16.6562 22.9736 16.411Z"
                fill="#359A9C" stroke="#359A9C" />
            </svg>
          </span>
          <span class="fw-500 text-main-color">{{'general.replace'|translate}}</span>
        </label>
        <button class="btn badge-danger d-flex align-items-center
          gap-2 badge-btn" (click)="remove()">
          <span>
            <svg width="16" height="21" viewBox="0 0 19 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M16.8861 6.33496C16.6061 6.33496 16.3376 6.44616 16.1397 6.64411C15.9417 6.84208 15.8305 7.11056 15.8305 7.39051V19.2033C15.8003 19.737 15.5603 20.2372 15.1629 20.5949C14.7654 20.9524 14.2429 21.1387 13.7089 21.1127H5.2855C4.7515 21.1387 4.22888 20.9524 3.83149 20.5949C3.43409 20.2372 3.19412 19.737 3.16385 19.2033V7.39051C3.16385 7.11056 3.05263 6.84208 2.85468 6.64411C2.65672 6.44616 2.38823 6.33496 2.10829 6.33496C1.82834 6.33496 1.55985 6.44616 1.3619 6.64411C1.16394 6.84208 1.05273 7.11056 1.05273 7.39051V19.2033C1.08286 20.297 1.54523 21.3343 2.33858 22.0879C3.13195 22.8415 4.1916 23.25 5.2855 23.2239H13.7089C14.8028 23.25 15.8623 22.8415 16.6557 22.0879C17.4491 21.3343 17.9115 20.297 17.9416 19.2033V7.39051C17.9416 7.11056 17.8305 6.84208 17.6324 6.64411C17.4345 6.44616 17.1661 6.33496 16.8861 6.33496Z"
                fill="#E55555" />
              <path
                d="M17.9445 3.16667H13.7222V1.05556C13.7222 0.775605 13.6109 0.50712 13.413 0.309165C13.2151 0.111211 12.9467 0 12.6667 0H6.33333C6.05338 0 5.7849 0.111211 5.58694 0.309165C5.38898 0.50712 5.27778 0.775605 5.27778 1.05556V3.16667H1.05555C0.775601 3.16667 0.507117 3.27787 0.309166 3.47582C0.111211 3.67379 0 3.94227 0 4.22222C0 4.50217 0.111211 4.77065 0.309166 4.96861C0.507117 5.16657 0.775601 5.27777 1.05555 5.27777H17.9445C18.2244 5.27777 18.4928 5.16657 18.6909 4.96861C18.8888 4.77065 19 4.50217 19 4.22222C19 3.94227 18.8888 3.67379 18.6909 3.47582C18.4928 3.27787 18.2244 3.16667 17.9445 3.16667ZM7.38888 3.16667V2.11111H11.6111V3.16667H7.38888Z"
                fill="#E55555" />
              <path
                d="M8.4451 16.8878V9.49891C8.4451 9.21896 8.33388 8.95048 8.13593 8.75253C7.93797 8.55456 7.66948 8.44336 7.38953 8.44336C7.10959 8.44336 6.8411 8.55456 6.64315 8.75253C6.4452 8.95048 6.33398 9.21896 6.33398 9.49891V16.8878C6.33398 17.1677 6.4452 17.4362 6.64315 17.6342C6.8411 17.8321 7.10959 17.9434 7.38953 17.9434C7.66948 17.9434 7.93797 17.8321 8.13593 17.6342C8.33388 17.4362 8.4451 17.1677 8.4451 16.8878Z"
                fill="#E55555" />
              <path
                d="M12.6659 16.8878V9.49891C12.6659 9.21896 12.5546 8.95048 12.3566 8.75253C12.1587 8.55456 11.8902 8.44336 11.6102 8.44336C11.3303 8.44336 11.0618 8.55456 10.8639 8.75253C10.6659 8.95048 10.5547 9.21896 10.5547 9.49891V16.8878C10.5547 17.1677 10.6659 17.4362 10.8639 17.6342C11.0618 17.8321 11.3303 17.9434 11.6102 17.9434C11.8902 17.9434 12.1587 17.8321 12.3566 17.6342C12.5546 17.4362 12.6659 17.1677 12.6659 16.8878Z"
                fill="#E55555" />
            </svg>
          </span>
        </button>
      </div>
    </div>
  </ng-container>
  <!-- Upload Img  -->
  <ng-container *ngIf="!showFile">
    <label class="w-100 d-flex align-items-center justify-content-center" ondragover="return false;"
      [class.loaded]="loaded" (dragenter)="handleDragEnter()" (dragleave)="handleDragLeave()"
      (drop)="handleDrop($event)">
      <input #inputFile type="file" name="file" [accept]="accept" (change)="handleInputChange($event)" hidden />

      <div class="d-flex justify-content-center text-center py-3">
        <a class="fw-bold text-dark-color d-flex flex-column align-items-center">
          <div class="d-flex justify-content-center mb-2">
            <svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M23.1438 19.357H20.5724V16.7856C20.5724 16.5582 20.4821 16.3402 20.3214 16.1795C20.1606 16.0187 19.9426 15.9285 19.7153 15.9285C19.488 15.9285 19.2699 16.0187 19.1092 16.1795C18.9484 16.3402 18.8581 16.5582 18.8581 16.7856V19.357H16.2868C16.0594 19.357 15.8414 19.4472 15.6807 19.608C15.5199 19.7687 15.4297 19.9867 15.4297 20.2141C15.4297 20.4414 15.5199 20.6594 15.6807 20.8202C15.8414 20.9809 16.0594 21.0713 16.2868 21.0713H18.8581V23.6426C18.8581 23.8699 18.9484 24.0879 19.1092 24.2487C19.2699 24.4094 19.488 24.4998 19.7153 24.4998C19.9426 24.4998 20.1606 24.4094 20.3214 24.2487C20.4821 24.0879 20.5724 23.8699 20.5724 23.6426V21.0713H23.1438C23.3711 21.0713 23.5892 20.9809 23.7499 20.8202C23.9107 20.6594 24.0009 20.4414 24.0009 20.2141C24.0009 19.9867 23.9107 19.7687 23.7499 19.608C23.5892 19.4472 23.3711 19.357 23.1438 19.357Z"
                fill="#359a9c" />
              <path
                d="M12.857 19.3566H2.57139C2.34406 19.3566 2.12605 19.2663 1.9653 19.1055C1.80457 18.9448 1.71426 18.7268 1.71426 18.4994V3.07115C1.71426 2.84382 1.80457 2.62581 1.9653 2.46506C2.12605 2.30432 2.34406 2.21402 2.57139 2.21402H17.9997C18.2271 2.21402 18.4451 2.30432 18.6058 2.46506C18.7666 2.62581 18.8568 2.84382 18.8568 3.07115V13.3567C18.8568 13.584 18.9472 13.802 19.1079 13.9628C19.2687 14.1235 19.4867 14.2138 19.714 14.2138C19.9413 14.2138 20.1594 14.1235 20.3201 13.9628C20.4808 13.802 20.5711 13.584 20.5711 13.3567V3.07115C20.5711 2.38917 20.3002 1.73513 19.8179 1.2529C19.3358 0.770669 18.6817 0.499756 17.9997 0.499756H2.57139C1.88941 0.499756 1.23538 0.770669 0.753143 1.2529C0.270914 1.73513 0 2.38917 0 3.07115V18.4994C0 19.1814 0.270914 19.8355 0.753143 20.3177C1.23538 20.8 1.88941 21.0709 2.57139 21.0709H12.857C13.0843 21.0709 13.3023 20.9806 13.4631 20.8198C13.6238 20.6591 13.714 20.441 13.714 20.2137C13.714 19.9864 13.6238 19.7684 13.4631 19.6077C13.3023 19.447 13.0843 19.3566 12.857 19.3566Z"
                fill="#359a9c" />
              <path
                d="M7.71509 8.21411C8.89854 8.21411 9.85791 7.25474 9.85791 6.07129C9.85791 4.88784 8.89854 3.92847 7.71509 3.92847C6.53164 3.92847 5.57227 4.88784 5.57227 6.07129C5.57227 7.25474 6.53164 8.21411 7.71509 8.21411Z"
                fill="#359a9c" />
              <path
                d="M4.53343 11.0329L3.42773 12.1472V17.6414H17.1418V12.1472L13.4647 8.46154C13.3851 8.38121 13.2903 8.31744 13.1858 8.27393C13.0813 8.23041 12.9693 8.20801 12.8562 8.20801C12.743 8.20801 12.631 8.23041 12.5265 8.27393C12.4221 8.31744 12.3273 8.38121 12.2476 8.46154L7.71339 13.0043L5.75056 11.0329C5.67088 10.9526 5.57608 10.8888 5.47163 10.8453C5.36718 10.8018 5.25515 10.7794 5.142 10.7794C5.02885 10.7794 4.91682 10.8018 4.81237 10.8453C4.70792 10.8888 4.61312 10.9526 4.53343 11.0329Z"
                fill="#359a9c" />
            </svg>
          </div>
          <p class="fw-500 mb-0">{{"general.clickToUpload"|translate}}</p>
          <small class="text-desc-color">{{"general.supports"|translate}}
            {{supports}}
          </small>
        </a>
      </div>
    </label>
  </ng-container>
  <!-- Loading -->
  <ng-container *ngIf="showFile && isLoading">
    <div class="w-100">
      <p-skeleton size="2rem" styleClass="mb-2 mx-auto"></p-skeleton>
      <p-skeleton width="80%" styleClass="mb-2 mx-auto"></p-skeleton>
      <p-skeleton width="40%" styleClass="mb-2 mx-auto"></p-skeleton>
    </div>
  </ng-container>
</div>